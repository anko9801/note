\RequirePackage{plautopatch}
\documentclass[uplatex,dvipdfmx,a4paper,11pt]{jlreq}
\usepackage{bxpapersize}
\usepackage[utf8]{inputenc}
\usepackage{fontenc}
\usepackage{lmodern}
\usepackage{otf}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{ascmac}
% \usepackage[hyphens]{url}
\usepackage{physics}
\usepackage{braket}
\usepackage{verbatimbox}
\usepackage{bm}
\usepackage{url}
% \usepackage[dvipdfmx,hiresbb,final]{graphicx}
\usepackage{hyperref}
\usepackage{pxjahyper}
\usepackage{tikz}\usetikzlibrary{cd}
\usepackage{listings}
\usepackage{color}
\usepackage{mathtools}
\usepackage{xspace}
\usepackage{xy}
\usepackage{xypic}
%
\title{相対性理論}
\author{Anko}
\makeatletter
%
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Kernel}{Ker}
\DeclareMathOperator{\Image}{Im}
\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Log}{Log}
\DeclareMathOperator{\Arg}{Arg}
\DeclareMathOperator{\sgn}{sgn}
%
\newcommand{\CC}{\mathbb{C}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\FF}{\mathbb{F}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\GG}{\mathbb{G}}
\newcommand{\TT}{\mathbb{T}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\ignore}[1]{}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
% \newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
\newcommand{\lt}{<}
\newcommand{\gt}{>}
\newcommand{\id}{\mathrm{id}}
\newcommand{\rot}{\curl}
\renewcommand{\angle}[1]{\left\langle #1 \right\rangle}
\newcommand{\EE}{\bm{E}}
\newcommand{\BB}{\bm{B}}
\renewcommand{\AA}{\bm{A}}
\newcommand{\rr}{\bm{r}}
\newcommand{\kk}{\bm{k}}
\newcommand{\pp}{\bm{p}}

\let\oldcite=\cite
\renewcommand\cite[1]{\hyperlink{#1}{\oldcite{#1}}}

\let\oldbibitem=\bibitem
\renewcommand{\bibitem}[2][]{\label{#2}\oldbibitem[#1]{#2}}

% theorem環境の設定
% - 冒頭に改行
% - 末尾にdiamond (amsthm)
\theoremstyle{definition}
\newcommand*{\newscreentheoremx}[2]{
  \newenvironment{#1}[1][]{
    \begin{screen}
    \begin{#2}[##1]
      \leavevmode
      \newline
  }{
    \end{#2}
    \end{screen}
  }
}
\newcommand*{\newqedtheoremx}[2]{
  \newenvironment{#1}[1][]{
    \begin{#2}[##1]
      \leavevmode
      \newline
      \renewcommand{\qedsymbol}{\(\diamond\)}
      \pushQED{\qed}
  }{
      \qedhere
      \popQED
    \end{#2}
  }
}
\newtheorem{theorem*}{定理}

\newqedtheoremx{theorem}{theorem*}
\newcommand*\newqedtheorem@unstarred[2]{%
  \newtheorem{#1*}[theorem*]{#2}
  \newqedtheoremx{#1}{#1*}
}
\newcommand*\newqedtheorem@starred[2]{%
  \newtheorem*{#1*}{#2}
  \newqedtheoremx{#1}{#1*}
}
\newcommand*{\newqedtheorem}{\@ifstar{\newqedtheorem@starred}{\newqedtheorem@unstarred}}

\newtheorem{sctheorem*}{定理}
\newscreentheoremx{sctheorem}{sctheorem*}
\newcommand*\newscreentheorem@unstarred[2]{%
  \newtheorem{#1*}[theorem*]{#2}
  \newscreentheoremx{#1}{#1*}
}
\newcommand*\newscreentheorem@starred[2]{%
  \newtheorem*{#1*}{#2}
  \newscreentheoremx{#1}{#1*}
}
\newcommand*{\newscreentheorem}{\@ifstar{\newscreentheorem@starred}{\newscreentheorem@unstarred}}

%\newtheorem*{definition}{定義}
%\newtheorem{theorem}{定理}
%\newtheorem{proposition}[theorem]{命題}
%\newtheorem{lemma}[theorem]{補題}
%\newtheorem{corollary}[theorem]{系}

\newqedtheorem{lemma}{補題}
\newqedtheorem{corollary}{系}
\newqedtheorem{example}{例}
\newqedtheorem{proposition}{命題}
\newqedtheorem{remark}{注意}
\newqedtheorem{thesis}{主張}
\newqedtheorem{notation}{記法}
\newqedtheorem{problem}{問題}
\newqedtheorem{algorithm}{アルゴリズム}

\newscreentheorem*{axiom}{公理}
\newscreentheorem*{definition}{定義}

\renewenvironment{proof}[1][\proofname]{\par
  \normalfont
  \topsep6\p@\@plus6\p@ \trivlist
  \item[\hskip\labelsep{\bfseries #1}\@addpunct{\bfseries}]\ignorespaces\quad\par
}{%
  \qed\endtrivlist\@endpefalse
}
\renewcommand\proofname{証明}

\makeatother

\begin{document}
\maketitle
\tableofcontents
\clearpage

\section{特殊相対性理論}
\begin{definition}[Einstein の相対性原理]
  自然法則は全ての慣性系において同じ形になる。
\end{definition}
\begin{definition}[光速度不変の原理]
  光の速度は全ての慣性系で、光源の速度によらず一定である。
\end{definition}

\begin{definition}[共変ベクトル・反変ベクトル]
  計量テンソル $g_{\mu\nu}$ とその逆行列 $g^{\mu\nu}$
  \begin{align}
    g_{\mu\nu} = g^{\mu\nu} = \mqty(1 & 0 & 0 & 0 \\ 0 & -1 & 0 & 0 \\ 0 & 0 & -1 & 0 \\ 0 & 0 & 0 & -1)
  \end{align}
  時刻 $t\in\RR$ と場所 $\bm{x} = (x^1, x^2, x^3)\in\RR^3$ をまとめた時空点 $x = (x^\mu)$ を次の反変ベクトルで表す。
  \begin{align}
    x^\mu & = (x^0, x^1, x^2, x^3) := (ct, \rr(t))
  \end{align}
  $x$ による微分を共変ベクトルとして次のように定義する。
  \begin{align}
    \partial_\mu & = (\partial_0, \partial_1, \partial_2, \partial_3) := \qty(\frac{1}{c}\pdv{t}, \vnabla)
  \end{align}
\end{definition}

\begin{proposition}
  $g < 0$
\end{proposition}
\begin{proof}
  \begin{align}
    g_{\mu\nu} & = M\eta_{\mu\nu}M^\top                          \\
    g          & = \det(\eta_{\mu\nu})\det(M)^2 = -\det(M)^2 < 0
  \end{align}
\end{proof}

\begin{definition}[世界間隔]
  \begin{align}
    \dd{s}^2 & = (c\dd{t})^2 - \dd{x}^2 - \dd{y}^2 - \dd{z}^2 = (c\dd{\tau})^2
  \end{align}
  これらを元に四元速度、四元加速度、四元運動量
  \begin{align}
    u^\mu(t) & = \dv{x^\mu}{\tau} = \gamma(c, \dot{\rr})     \\
    a^\mu(t) & = \dv[2]{x^\mu}{\tau} = \gamma(0, \ddot{\rr}) \\
    p^\mu    & = mu^\mu = m\gamma(c, \dot{\rr})              \\
    j^\mu(x) & := (c\rho, \bm{j})                            \\
  \end{align}
\end{definition}

運動方程式
\begin{align}
  m\dv[2]{x^\mu}{\tau} = 0
\end{align}

作用
\begin{align}
  \delta S & = \int \varepsilon^\mu\delta x_\mu\dd{\tau} = 0
\end{align}

\section{一般相対性理論}
\begin{axiom}[アインシュタインの等価原理]
  加速系と重力場の系は局所的には原理的に区別できない。
\end{axiom}
例えば宇宙人によって部屋に閉じ込められたとき地球と同じ重力があるからといって地球にいるとは限らない。

\end{document}
